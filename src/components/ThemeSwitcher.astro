---
import { Moon, Sun } from '@lucide/astro';
---

<button
  id="themeSwitcher"
  class="text-dimmed-foreground flex h-9 w-9 cursor-pointer items-center justify-center rounded-md transition-colors hover:text-zinc-900 dark:hover:text-zinc-50"
>
  <Moon size={18} class="hidden dark:inline" />
  <Sun size={18} class="dark:hidden" />
</button>

<script>
  const button = document.getElementById('themeSwitcher');

  button?.addEventListener('click', () => {
    const root = document.documentElement;
    root.classList.toggle('dark');

    const isDark = root.classList.contains('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>
